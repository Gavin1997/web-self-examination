(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{294:function(t,a,s){"use strict";s.r(a);var n=s(38),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"一张图概览"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一张图概览","aria-hidden":"true"}},[t._v("#")]),t._v(" 一张图概览")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/onemap.png"),alt:"foo"}}),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"一张图组件分布"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一张图组件分布","aria-hidden":"true"}},[t._v("#")]),t._v(" 一张图组件分布")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/onemapCompnent.png"),alt:"foo"}}),t._v(" "),s("h2",{attrs:{id:"路由获取"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由获取","aria-hidden":"true"}},[t._v("#")]),t._v(" 路由获取")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",[t._v("如何根据运维中配置的组件和本地的组件一一对应")])]),t._v(" "),s("ol",[s("li",[t._v("src/路由拦截 permission.js")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getUserInfo"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 无权限信息先获取权限信息")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" permission "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"userGetPermission"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n              permission "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n              Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isArray")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n              permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasUserInfo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果权限信息获取成功，动态添加路由并继续原来的路由跳转")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" accessRoutes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"generateRoutes"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                permission\n              "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通配符404放置最后")]),t._v("\n              accessRoutes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" redirect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/404"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addRoutes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("accessRoutes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 同步到optios.routes对象中，方便在业务组件内部获取")]),t._v("\n              router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("routes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("accessRoutes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("postCrossInfo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hack method to ensure that addRoutes is complete")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// set the replace: true, so the navigation will not leave a history record")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reSetLocalStorage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" accessRoutes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 针对子系统页面清完缓存后直接刷新情况")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[t._v("getUserInfo(根据 cookie 里存的 session-key,dist-token,region-key 等获取用户信息)")])]),t._v(" "),s("li",[s("p",[t._v("userGetPermission(根据用户信息获取对应权限-也就获取路由列表)")])]),t._v(" "),s("li",[s("p",[t._v("触发 store 下的 generateRoutes(传入用户获取的权限路由表)再触发 utils/permission 下的 generateAsyncRoutes 方法,比较本地数据和权限路由表返回实际路由表")])])]),t._v(" "),s("h2",{attrs:{id:"一张图进入时初始化操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一张图进入时初始化操作","aria-hidden":"true"}},[t._v("#")]),t._v(" 一张图进入时初始化操作")]),t._v(" "),s("h4",{attrs:{id:"一张图存储的-store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一张图存储的-store","aria-hidden":"true"}},[t._v("#")]),t._v(" 一张图存储的 store")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打开的专题")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("openedTopics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("openedTopics"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打开的专题Guid集合")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("openedTopicGuids")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("openedTopicGuids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 收藏的专题")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("favoriteTopics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("favoriteTopics"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 专题透明度")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("topicOpacityHash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("topicOpacityHash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一张图专题过滤条件")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("topicFilterHash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("topicFilterHash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 地图范围")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapExtent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mapExtent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一张图加载的外部数据图层")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("newLayers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("newLayers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 加载的外部shp图层")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("newShpLayer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("newShpLayer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 地图对象")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapObj")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mapObj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  一张图映射服务关系（专题中配了切片and动态，做障眼法使用）暂未使用 //TODO:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mappingService")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mappingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"一张图入口-onemap-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一张图入口-onemap-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 一张图入口 OneMap.vue")]),t._v(" "),s("ol",[s("li",[t._v("渲染组件\n"),s("table",[s("thead",[s("tr",[s("th",[t._v("component")]),t._v(" "),s("th",[t._v("组件功能")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("NrTopicTree")]),t._v(" "),s("td",[t._v("资源目录树组件")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("NrProductTree")]),t._v(" "),s("td",[t._v("专题分析产品树组件")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("NrMapFavorites")]),t._v(" "),s("td",[t._v("收藏夹")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("nr-topMenu")]),t._v(" "),s("td",[t._v("顶部菜单栏")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("NrTopicFileView")]),t._v(" "),s("td",[t._v("资源目录专题关联专题查看")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("NrTopicTree_Ministry")]),t._v(" "),s("td",[t._v("资源树")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("部里特有")])]),t._v(" "),s("tr",[s("td",[t._v("NrTopicProductTree")]),t._v(" "),s("td",[t._v("数据专题")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("部里特有")])])])]),t._v(" "),s("ul",[s("li",[t._v("渲染 distMap 组件\n"),s("table",[s("thead",[s("tr",[s("th",[t._v("component")]),t._v(" "),s("th",[t._v("组件功能")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("eyemap-map")]),t._v(" "),s("td",[t._v("eyemap 地图组件")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("地图准备好以后,mapExent 以及 mapObj 存入 store"),s("code",[t._v("map mapDiv, mapView mapRef")])])]),t._v(" "),s("tr",[s("td",[t._v("nr-mapCoordinate")]),t._v(" "),s("td",[t._v("比例尺组件")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("nr-mapToggle")]),t._v(" "),s("td",[t._v("底图切换组件")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("nr-topicResource")]),t._v(" "),s("td",[t._v("专题资源管理组件(运维中配置)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("nr-mapToolBar")]),t._v(" "),s("td",[t._v("地图工具栏")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("nr-regionList")]),t._v(" "),s("td",[t._v("区域选择组件")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",[t._v("nr-timeSelector")]),t._v(" "),s("td",[t._v("时间线组件")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})])])])])])])]),t._v(" "),s("h2",{attrs:{id:"资源目录的加载与操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#资源目录的加载与操作","aria-hidden":"true"}},[t._v("#")]),t._v(" 资源目录的加载与操作")]),t._v(" "),s("p",[t._v("通过 utils/manager/topicManager.js 管理工具 管理 TopicTree 的各种操作和状态")]),t._v(" "),s("p",[t._v("那么专题的数据从哪里来?\n运维获取和用户 systemcode 关联起来了")]),t._v(" "),s("ul",[s("li",[t._v("api\n"),s("code",[t._v("getTopicTree(systemcode)")]),t._v("获取当前用户的所有专题,异步 Promise 方法（来源于运维）")]),t._v(" "),s("li",[t._v("Vuex\n"),s("ul",[s("li",[s("code",[t._v("YZT_OPENED_TOPICS")]),t._v(", 一张图打开的专题")]),t._v(" "),s("li",[s("code",[t._v("YZT_FAVORITE_TOPICS")]),t._v(", 一张图收藏的专题")]),t._v(" "),s("li",[s("code",[t._v("YZT_OPACITY_TOPICS")]),t._v(" 一张图专题透明度")])])])]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",[t._v("打开专题-> 地图为何会渲染专题图层?->并且获取相应的图列信息?")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("通过 store 获取上面保存的 mapObj 对象取其中的 mapRef 触发"),s("code",[t._v("toggleSetMap(点击专题item)")]),t._v("事件")])]),t._v(" "),s("li",[s("p",[t._v("触发 topicManager.js 里的"),s("code",[t._v("openTopicsByGuids(专题的guid,mapRef)")]),t._v("事件")])]),t._v(" "),s("li",[s("p",[t._v("最后触发"),s("code",[t._v("openTopics(topicInfo,eyeMap(mapRef)")]),t._v("事件")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openTopics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("topics"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" eyeMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isRecord "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" topics"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" topicInfo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" topics"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" operationLayers "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layers "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("layerInfo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__NETWORK__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"intranet"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resourceType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WMTSServer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wmts"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resourceType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MapServer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cacheType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dynamic"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layerIndex "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cacheType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tiled"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layerIndex "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" layerObj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("serviceUrl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       layerID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layerIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" layerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n       topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"opacity"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n       topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("opacity "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       layerObj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("opacity "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("opacity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n       topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"filter"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n       topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       layerObj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     operationLayers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("layerObj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("eyeMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   eyeMap "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getters"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mapObj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mapRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" eyeMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addLocateLayers_1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("operationLayers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addToOpenedTopics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("topicInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isRecord"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("此时会找到专题对应的地图服务类型获取图层信息,然后触发 eyemap 里面的 layers/"),s("code",[t._v("layerUtils.js")]),t._v(" 方法中的图层方法.")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",[t._v("大多数图层方法都在此文件里面,若有相关对应的图层操作,可到此文件里查询方法")])]),t._v(" "),s("ul",[s("li",[t._v("例如专题全图方法 定位到专题图范围")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toggleExtentSet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("curTopicItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" mapRef "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_getMapRef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mapRef "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"map容器未获取到"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   mapRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("zoomToLayers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curTopicItem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("popTipVisible "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("p",[t._v("此时"),s("code",[t._v("zoomToLayers")]),t._v("可在 layerUtils 中查看")])]),t._v(" "),s("li",[s("p",[t._v("此时调用 eyeMap 的 addLocateLayers_1 的方法后.此方法中回去调用"),s("strong",[t._v("Legend")]),t._v("组件 EventBus 中的设置地理特征矢量元素图层"),s("code",[t._v("setFeatureLegend")]),t._v("方法 传入对应图层信息然后获取图列")])])]),t._v(" "),s("h2",{attrs:{id:"管理工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#管理工具","aria-hidden":"true"}},[t._v("#")]),t._v(" 管理工具")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",[t._v("Widget 管理工具,管理 widget 的各种操作和状态\n创建动态组件实例 widget, 分为 router 组件,inOverlay 全局组件,inpanel 弹窗组件;\nPanel 管理器,用于管理弹窗组件的相关事件和操作,同时挂载在 panel 中的 widget 由 panel 管理,不由 widgetManager 管理")])]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/widget.png"),alt:"foo"}}),t._v(" "),s("h2",{attrs:{id:"顶部工具栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#顶部工具栏","aria-hidden":"true"}},[t._v("#")]),t._v(" 顶部工具栏")]),t._v(" "),s("p",[s("code",[t._v("SearchLocation(地名,道路,地区查询)")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/searchLocation.png"),alt:"foo"}})]),t._v(" "),s("p",[t._v("剩下的"),s("code",[t._v("SpaceAnalysisTools(空间分析和查询)")]),t._v("是由一个面包屑组件+下拉菜单组合而成的,每一个功能都对应一个组件,统一由 widget 工具来管理他的加载与销毁;")]),t._v(" "),s("h4",{attrs:{id:"数据加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据加载","aria-hidden":"true"}},[t._v("#")]),t._v(" 数据加载")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("加载方式")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("区别")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("加载 CAD 数据")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("不可编辑")])]),t._v(" "),s("tr",[s("td",[t._v("加载 SHP 数据")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("可编辑点线面的颜色和形式")])])])]),t._v(" "),s("p",[t._v("加载 CAD 数据\n加载 SHP 数据")]),t._v(" "),s("p",[s("strong",[t._v("流程:上传 CAD/SHP 数据->加载至地图场景->专题制图->导出图片")])]),t._v(" "),s("h4",{attrs:{id:"空间查询-数据查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#空间查询-数据查询","aria-hidden":"true"}},[t._v("#")]),t._v(" 空间查询/数据查询")]),t._v(" "),s("h5",{attrs:{id:"指标一键式查询-indicatorsquery-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指标一键式查询-indicatorsquery-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 指标一键式查询 IndicatorsQuery.vue")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/indexQuery.png"),alt:"foo"}}),t._v(" "),s("h5",{attrs:{id:"总规项目查询-projectquery-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总规项目查询-projectquery-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 总规项目查询 ProjectQuery.Vue")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/zgQuery.png"),alt:"foo"}}),t._v(" "),s("h5",{attrs:{id:"条件组合查询-conditionalcombinationquery-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#条件组合查询-conditionalcombinationquery-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 条件组合查询 ConditionalCombinationQuery.Vue")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/conditionQuery.png"),alt:"foo"}}),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"用地统计-ledger-台账-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用地统计-ledger-台账-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 用地统计 Ledger(台账)vue")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("统计方式")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("配置文件")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("两规差异图斑统计")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ledger.json")])]),t._v(" "),s("tr",[s("td",[t._v("三线分布统计")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ledger.json")])]),t._v(" "),s("tr",[s("td",[t._v("国土空间规划基本分区统计")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ledger.json")])]),t._v(" "),s("tr",[s("td",[t._v("国土空间规划用途分类统计")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ledger.json")])]),t._v(" "),s("tr",[s("td",[t._v("项目周边用地配置")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("surroundProjects.json")])])])]),t._v(" "),s("p",[t._v("选择范围方式,四选一,本质上是一个功能(除项目周边用地配置外)")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/LandStatistics.png"),alt:"foo"}}),t._v(" "),s("p",[t._v("配置文件\n"),s("img",{attrs:{src:t.$withBase("/OneMap/landStatisticsParams.png"),alt:"foo"}})]),t._v(" "),s("h5",{attrs:{id:"项目周边用地-surroundprojects-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目周边用地-surroundprojects-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 项目周边用地 SurroundProjects.vue")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/surroundProjects.png"),alt:"foo"}}),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"设施统计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设施统计","aria-hidden":"true"}},[t._v("#")]),t._v(" 设施统计")]),t._v(" "),s("h5",{attrs:{id:"项目周边设施统计-surroundprojects-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目周边设施统计-surroundprojects-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 项目周边设施统计 SurroundProjects.vue")]),t._v(" "),s("p",[t._v("和项目周边用地一样,配置文件也一致 "),s("strong",[t._v("SurroundProjects.json")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("统计方式")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("区别")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("项目周边用地统计")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("图层类型为 polygon 面")])]),t._v(" "),s("tr",[s("td",[t._v("项目周边设施统计")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("图层类型为 point")])])])]),t._v(" "),s("h5",{attrs:{id:"设施总量与分布统计-facilitydistribute-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设施总量与分布统计-facilitydistribute-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 设施总量与分布统计 facilityDistribute.vue")]),t._v(" "),s("p",[t._v("流程: 选择设施类型->选择统计范围\n配置文件: "),s("strong",[t._v("facilityDistribute.json")]),t._v(" 主要配置设施图层 专题 guid 字段:设施名称")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"项目审查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目审查","aria-hidden":"true"}},[t._v("#")]),t._v(" 项目审查")]),t._v(" "),s("h5",{attrs:{id:"合规审查-ghss-compliancecheck-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合规审查-ghss-compliancecheck-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 合规审查 GHSS/ComplianceCheck.vue")]),t._v(" "),s("h5",{attrs:{id:"项目列表-ghss-projectcreatepage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目列表-ghss-projectcreatepage","aria-hidden":"true"}},[t._v("#")]),t._v(" 项目列表 GHSS/ProjectCreatePage")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/examine.png"),alt:"foo"}}),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"空间分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#空间分析","aria-hidden":"true"}},[t._v("#")]),t._v(" 空间分析")]),t._v(" "),s("h5",{attrs:{id:"两规差异分析-conflictanalysis-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#两规差异分析-conflictanalysis-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 两规差异分析 ConflictAnalysis.vue")]),t._v(" "),s("h5",{attrs:{id:"三线冲突分析-conflictanalysis-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三线冲突分析-conflictanalysis-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 三线冲突分析 ConflictAnalysis.vue")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/chongtu.png"),alt:"foo"}}),t._v(" "),s("p",[t._v("两规差异分析和三线冲突分析两个逻辑相同")]),t._v(" "),s("hr"),t._v(" "),s("h5",{attrs:{id:"自定义缓冲区分析-custombufferanalysis-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义缓冲区分析-custombufferanalysis-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 自定义缓冲区分析 CustomBufferAnalysis.vue")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/customBuffer.png"),alt:"foo"}}),t._v(" "),s("h5",{attrs:{id:"设施覆盖用地分析-facilitycoverlandanalysis-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设施覆盖用地分析-facilitycoverlandanalysis-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 设施覆盖用地分析 facilityCoverLandAnalysis.vue")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/coverLand.png"),alt:"foo"}}),t._v(" "),s("h5",{attrs:{id:"用地冲突分析-landconflictanalysis-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用地冲突分析-landconflictanalysis-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 用地冲突分析 LandConflictAnalysis.vue")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/LandConflictAnalysis.png"),alt:"foo"}}),t._v(" "),s("h2",{attrs:{id:"专题分析-nrproducttree-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#专题分析-nrproducttree-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 专题分析 NrProductTree.vue")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/NrProductTree.png"),alt:"foo"}}),t._v(" "),s("h2",{attrs:{id:"地图工具-nrtoolbar-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#地图工具-nrtoolbar-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 地图工具 NrToolBar.vue")]),t._v(" "),s("h3",{attrs:{id:"topicmanage（专题管理），poppanel-组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#topicmanage（专题管理），poppanel-组件","aria-hidden":"true"}},[t._v("#")]),t._v(" TopicManage（专题管理），popPanel 组件")]),t._v(" "),s("p",[t._v("可拖拽组件 vuedraggable，内部以 TopicItem 作为子项，数据源自 opendTopics（即已经打开的专题）")]),t._v(" "),s("h4",{attrs:{id:"topicclose（专题关闭），非-panel，非-overlay"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#topicclose（专题关闭），非-panel，非-overlay","aria-hidden":"true"}},[t._v("#")]),t._v(" TopicClose（专题关闭），非 panel，非 overlay")]),t._v(" "),s("p",[t._v("WidgetManager 的 "),s("code",[t._v("closeWidgetByCode")]),t._v("方法\nTopicManager 的 "),s("code",[t._v("closeAllTopics")]),t._v(" 方法")]),t._v(" "),s("h3",{attrs:{id:"mapsplitscreen（分屏分析），overlay-组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapsplitscreen（分屏分析），overlay-组件","aria-hidden":"true"}},[t._v("#")]),t._v(" MapSplitScreen（分屏分析），overlay 组件")]),t._v(" "),s("ol",[s("li",[t._v("isOverlay=true，createWidgetByCode 触发 OneMap.vue 中监听的 overlayCompont 事件和 getComponentByFileName，分别用于挂载实例和获取实例")]),t._v(" "),s("li",[t._v("根据 tabName 判断左部渲染 dataOption 组件和 screenOption 组件")]),t._v(" "),s("li",[t._v("tabName === 分屏配置，渲染 screenOption 组件\n"),s("img",{attrs:{src:t.$withBase("/OneMap/split.png"),alt:"foo"}})])]),t._v(" "),s("h3",{attrs:{id:"topicmake（专题制图），overlay-组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#topicmake（专题制图），overlay-组件","aria-hidden":"true"}},[t._v("#")]),t._v(" TopicMake（专题制图），overlay 组件")]),t._v(" "),s("p",[t._v("加载从一张图继承过来的专题图层,使用 html2canvas 各种图片要素，生成图片")]),t._v(" "),s("h3",{attrs:{id:"dataquery-属性查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dataquery-属性查询","aria-hidden":"true"}},[t._v("#")]),t._v(" DataQuery (属性查询)")]),t._v(" "),s("ol",[s("li",[t._v("选定区域后点击，触发 drawGeometry 时间，并调用回调函数 drawGeometryHandler 获取图层数据，setTreeAndTable 函数将数据填入 treeData 并通过 renderQueryResult 渲染")]),t._v(" "),s("li",[t._v("locateQueryResult 改变渲染表数据，同时改变视图显示区域")])]),t._v(" "),s("h3",{attrs:{id:"toolbox-工具箱"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#toolbox-工具箱","aria-hidden":"true"}},[t._v("#")]),t._v(" toolbox(工具箱)")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/OneMap/toolbox.png"),alt:"foo"}}),t._v(" "),s("h2",{attrs:{id:"区域选择-regionlist-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#区域选择-regionlist-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 区域选择 RegionList.vue")]),t._v(" "),s("ul",[s("li",[t._v("RegionPageOne（省级）")]),t._v(" "),s("li",[t._v("RegionPageTwo（市级）")]),t._v(" "),s("li",[t._v("RegionPageThree（区县级）")]),t._v(" "),s("li",[t._v("RegionSearch（搜索）")])]),t._v(" "),s("h2",{attrs:{id:"底图切换-nrmaptoggle-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#底图切换-nrmaptoggle-vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 底图切换 NrMapToggle.vue")]),t._v(" "),s("ol",[s("li",[t._v("utils/proxy.js 处理地图相关信息 显示范围、服务代理、底图切换、服务列表存入 vuex")])])])},[],!1,null,null,null);a.default=e.exports}}]);